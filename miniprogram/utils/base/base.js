"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var baseType_1 = require("./baseType");
exports.wxGetsysteminfo = wx.getSystemInfoSync();
exports.updateManagerFn = function () {
    var updateManager = wx.getUpdateManager();
    updateManager.onCheckForUpdate(function (res) {
        console.log(res.hasUpdate);
    });
    updateManager.onUpdateReady(function () {
        wx.showModal({
            title: '更新提示',
            content: '新版本已经准备好，是否重启应用？',
            success: function (res) {
                if (res.confirm) {
                    updateManager.applyUpdate();
                }
            }
        });
    });
    updateManager.onUpdateFailed(function () {
        wx.showToast({
            title: '更新失败',
            icon: 'none',
            duration: 1500,
            mask: false,
        });
    });
};
exports.getLaunchOptionsSync = function () {
    var data = wx.getLaunchOptionsSync();
    var query = "";
    try {
        query = JSON.stringify(data.query);
    }
    catch (error) {
    }
    return query;
};
exports.routerPush = function (name, path, delta) {
    if (delta === void 0) { delta = 1; }
    var routerMap = new Map([
        [baseType_1.routerEnumPushNameType.switchTab, function () { return wx.switchTab({ url: path }); }],
        [baseType_1.routerEnumPushNameType.reLaunch, function () { return wx.reLaunch({ url: path }); }],
        [baseType_1.routerEnumPushNameType.redirectTo, function () { return wx.redirectTo({ url: path }); }],
        [baseType_1.routerEnumPushNameType.navgateTo, function () { return wx.navigateTo({ url: path }); }],
        [baseType_1.routerEnumPushNameType.navigateBack, function () { return wx.navigateBack({ delta: delta }); }]
    ]);
    return routerMap.get(name)();
};
exports.toast = function (name, obj) {
    var toastMap = new Map([
        [baseType_1.toastEnumType.showToast, function () { return wx.showToast(__assign({}, obj)); }],
        [baseType_1.toastEnumType.showModel, function () { return wx.showModal(__assign({}, obj)); }],
        [baseType_1.toastEnumType.showLoading, function () { return wx.showLoading(__assign({}, obj)); }],
        [baseType_1.toastEnumType.hideLoading, function () { return wx.hideLoading(__assign({}, obj)); }],
        [baseType_1.toastEnumType.hideToast, function () { return wx.hideToast(__assign({}, obj)); }],
    ]);
    return toastMap.get(name)();
};
exports.showActionSheet = function (obj) {
    return wx.showActionSheet(__assign({}, obj));
};
exports.showNavigationBarLoading = function (obj) {
    return wx.showNavigationBarLoading(__assign({}, obj));
};
exports.setNavigationBarTitle = function (obj) {
    return wx.setNavigationBarTitle(__assign({}, obj));
};
exports.setNavigationBarColor = function (obj) {
    return wx.setNavigationBarColor(__assign({}, obj));
};
exports.hideNavigationBarLoading = function (obj) {
    return wx.hideNavigationBarLoading(__assign({}, obj));
};
exports.hideHomeButton = function (obj) {
    return wx.hideHomeButton(__assign({}, obj));
};
exports.stopPullDownRefresh = function (obj) {
    return wx.stopPullDownRefresh(__assign({}, obj));
};
exports.startPullDownRefresh = function (obj) {
    return wx.startPullDownRefresh(__assign({}, obj));
};
exports.pageScrollTo = function (obj) {
    return wx.pageScrollTo(__assign({}, obj));
};
exports.setStorageSync = function (key, value) {
    try {
        wx.setStorageSync(key, value);
    }
    catch (error) {
        exports.toast("showToast", {
            title: "存储失败",
            icon: "none",
            duration: 1500,
            mask: true,
            success: function () { },
            fail: function () { }
        });
    }
};
exports.removeStorageSync = function (key) {
    wx.removeStorageSync(key);
};
exports.getStorageSync = function (key) {
    try {
        var res = wx.getStorageSync(key);
        if (res) {
            return res;
        }
        else {
            return false;
        }
    }
    catch (error) {
        return false;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUlBLHVDQUErRztBQUdsRyxRQUFBLGVBQWUsR0FBRyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztBQUd6QyxRQUFBLGVBQWUsR0FBRztJQUMzQixJQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxHQUFHO1FBRXhDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQzVCLENBQUMsQ0FBQyxDQUFBO0lBRUYsYUFBYSxDQUFDLGFBQWEsQ0FBQztRQUMxQixFQUFFLENBQUMsU0FBUyxDQUFDO1lBQ1gsS0FBSyxFQUFFLE1BQU07WUFDYixPQUFPLEVBQUUsa0JBQWtCO1lBQzNCLE9BQU8sRUFBRSxVQUFVLEdBQUc7Z0JBQ3BCLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRTtvQkFFZixhQUFhLENBQUMsV0FBVyxFQUFFLENBQUE7aUJBQzVCO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0lBRUYsYUFBYSxDQUFDLGNBQWMsQ0FBQztRQUUzQixFQUFFLENBQUMsU0FBUyxDQUFDO1lBQ1QsS0FBSyxFQUFFLE1BQU07WUFDYixJQUFJLEVBQUUsTUFBTTtZQUNaLFFBQVEsRUFBRSxJQUFJO1lBQ2QsSUFBSSxFQUFFLEtBQUs7U0FDZCxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQTtBQUNSLENBQUMsQ0FBQTtBQUtZLFFBQUEsb0JBQW9CLEdBQUc7SUFDaEMsSUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUM7SUFFdkMsSUFBSSxLQUFLLEdBQVcsRUFBRSxDQUFDO0lBQ3ZCLElBQUk7UUFDQSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMs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QixDQUFDLENBQUE7QUFNWSxRQUFBLGNBQWMsR0FBRyxVQUFDLEdBQVc7SUFDdEMsSUFBSTtRQUNBLElBQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDbEMsSUFBRyxHQUFHLEVBQUU7WUFDSixPQUFPLEdBQUcsQ0FBQztTQUNkO2FBQUs7WUFDRixPQUFPLEtBQUssQ0FBQTtTQUNmO0tBQ0o7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNaLE9BQU8sS0FBSyxDQUFBO0tBQ2Y7QUFDTCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICBAYXV0aG9yICB6aGFuZ2xpamllXG4gKiAgQHZlcnNpb24gMS4wLjAgXG4gKi9cbmltcG9ydCB7IHJvdXRlclB1c2hOYW1lVHlwZSwgcm91dGVyRW51bVB1c2hOYW1lVHlwZSwgdG9hc3RUeXBlLCB0b2FzdEVudW1UeXBlLCB0b2FzdE5hbWVUeXBlfSBmcm9tICcuL2Jhc2VUeXBlJ1xuXG4vKiogd3guZ2V0U3lzdGVtSW5mbyDnmoTlkIzmraXniYjmnKwgKi9cbmV4cG9ydCBjb25zdCB3eEdldHN5c3RlbWluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuXG4vKiog5paw54mI5pys5pu05paw5o+Q56S6ICovXG5leHBvcnQgY29uc3QgdXBkYXRlTWFuYWdlckZuID0gKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZU1hbmFnZXIgPSB3eC5nZXRVcGRhdGVNYW5hZ2VyKCk7XG4gICAgdXBkYXRlTWFuYWdlci5vbkNoZWNrRm9yVXBkYXRlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgLy8g6K+35rGC5a6M5paw54mI5pys5L+h5oGv55qE5Zue6LCDXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcy5oYXNVcGRhdGUpXG4gICAgICB9KVxuICAgICAgXG4gICAgICB1cGRhdGVNYW5hZ2VyLm9uVXBkYXRlUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICB3eC5zaG93TW9kYWwoe1xuICAgICAgICAgIHRpdGxlOiAn5pu05paw5o+Q56S6JyxcbiAgICAgICAgICBjb250ZW50OiAn5paw54mI5pys5bey57uP5YeG5aSH5aW977yM5piv5ZCm6YeN5ZCv5bqU55So77yfJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzLmNvbmZpcm0pIHtcbiAgICAgICAgICAgICAgLy8g5paw55qE54mI5pys5bey57uP5LiL6L295aW977yM6LCD55SoIGFwcGx5VXBkYXRlIOW6lOeUqOaWsOeJiOacrOW5tumHjeWQr1xuICAgICAgICAgICAgICB1cGRhdGVNYW5hZ2VyLmFwcGx5VXBkYXRlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgXG4gICAgICB1cGRhdGVNYW5hZ2VyLm9uVXBkYXRlRmFpbGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8g5paw54mI5pys5LiL6L295aSx6LSlXG4gICAgICAgIHd4LnNob3dUb2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogJ+abtOaWsOWksei0pScsXG4gICAgICAgICAgICBpY29uOiAnbm9uZScsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTUwMCxcbiAgICAgICAgICAgIG1hc2s6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH0pXG59XG5cbi8qKiDojrflj5blsI/nqIvluo/lkK/liqjml7bnmoTlj4LmlbAgXG4gKiBAcmV0dXJucyAgcXVlcnkg6L+b5YWl5bCP56iL5bqP6L+U5Zue55qE5Y+C5pWwXG4qL1xuZXhwb3J0IGNvbnN0IGdldExhdW5jaE9wdGlvbnNTeW5jID0gKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHd4LmdldExhdW5jaE9wdGlvbnNTeW5jKCk7XG4gICAgLy8g5ZCv5Yqo5Y+C5pWwXG4gICAgbGV0IHF1ZXJ5OiBzdHJpbmcgPSBcIlwiO1xuICAgIHRyeSB7XG4gICAgICAgIHF1ZXJ5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YS5xdWVyeSk7IFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIFxuICAgIH1cbiAgICByZXR1cm4gcXVlcnk7XG59IFxuXG4vKiog6Lev55Sx6Lez6L2sIFxuICogIEBwYXJhbSBuYW1lICDot6/nlLHot7PovaznsbvlnotcbiAqICBAcGFyYW0gcGF0aCAg6Lev55Sx5ZCN56ewLCDlj6/ku6XluKblj4LmlbDot7PovaxcbiAqICBAcGFyYW0gZGVsdGEg6L+U5Zue55qE5bGC5pWwIOm7mOiupDFcbiAqICBAcmV0dXJucyDov5Tlm57lgLzkuLrot6/nlLHmlrnms5VcbiAqL1xuZXhwb3J0IGNvbnN0IHJvdXRlclB1c2ggPSAobmFtZTogcm91dGVyUHVzaE5hbWVUeXBlLCBwYXRoOiBzdHJpbmcsIGRlbHRhOiBudW1iZXIgPSAxKSA9PiB7XG4gICAgLy8g6Lez6L2s5YiwIHRhYkJhciDpobXpnaLvvIzlubblhbPpl63lhbbku5bmiYDmnInpnZ4gdGFiQmFyIOmhtemdolxuICAgIGNvbnN0IHJvdXRlck1hcDogTWFwPHJvdXRlclB1c2hOYW1lVHlwZSwgKCkgPT4gdm9pZD4gPSBuZXcgTWFwKFtcbiAgICAgICAgLy8g6Lez6L2s5YiwIHRhYkJhciDpobXpnaLvvIzlubblhbPpl63lhbbku5bmiYDmnInpnZ4gdGFiQmFyIOmhtemdolxuICAgICAgICBbcm91dGVyRW51bVB1c2hOYW1lVHlwZS5zd2l0Y2hUYWIsICgpID0+IHd4LnN3aXRjaFRhYih7IHVybDogcGF0aCB9KV0sXG4gICAgICAgIC8vIOWFs+mXreaJgOaciemhtemdou+8jOaJk+W8gOWIsOW6lOeUqOWGheeahOafkOS4qumhtemdolxuICAgICAgICBbcm91dGVyRW51bVB1c2hOYW1lVHlwZS5yZUxhdW5jaCwgKCkgPT4gd3gucmVMYXVuY2goeyB1cmw6IHBhdGggfSldLFxuICAgICAgICAvLyDlhbPpl63lvZPliY3pobXpnaLvvIzot7PovazliLDlupTnlKjlhoXnmoTmn5DkuKrpobXpnaLjgILkvYbmmK/kuI3lhYHorrjot7PovazliLAgdGFiYmFyIOmhtemdolxuICAgICAgICBbcm91dGVyRW51bVB1c2hOYW1lVHlwZS5yZWRpcmVjdFRvLCAoKSA9PiB3eC5yZWRpcmVjdFRvKHsgdXJsOiBwYXRoIH0pXSxcbiAgICAgICAgLy8g5L+d55WZ5b2T5YmN6aG16Z2i77yM6Lez6L2s5Yiw5bqU55So5YaF55qE5p+Q5Liq6aG16Z2i44CC5L2G5piv5LiN6IO96Lez5YiwIHRhYmJhciDpobXpnaIsIOS9v+eUqCB3eC5uYXZpZ2F0ZUJhY2sg5Y+v5Lul6L+U5Zue5Yiw5Y6f6aG16Z2i44CC5bCP56iL5bqP5Lit6aG16Z2i5qCI5pyA5aSa5Y2B5bGC44CCXG4gICAgICAgIFtyb3V0ZXJFbnVtUHVzaE5hbWVUeXBlLm5hdmdhdGVUbywgKCkgPT4gd3gubmF2aWdhdGVUbyh7IHVybDogcGF0aCB9KV0sXG4gICAgICAgIC8vIOWFs+mXreW9k+WJjemhtemdou+8jOi/lOWbnuS4iuS4gOmhtemdouaIluWkmue6p+mhtemdouOAguWPr+mAmui/hyBnZXRDdXJyZW50UGFnZXMg6I635Y+W5b2T5YmN55qE6aG16Z2i5qCI77yM5Yaz5a6a6ZyA6KaB6L+U5Zue5Yeg5bGC44CCXG4gICAgICAgIFtyb3V0ZXJFbnVtUHVzaE5hbWVUeXBlLm5hdmlnYXRlQmFjaywgKCkgPT4gd3gubmF2aWdhdGVCYWNrKHsgZGVsdGEgfSldXG4gICAgXSk7XG4gICAgcmV0dXJuIHJvdXRlck1hcC5nZXQobmFtZSkhKCk7XG59XG5cbi8qKiB0b2FzdOaPkOekuiBcbiAqICBAcGFyYW0gbmFtZSDmj5DnpLrlkI3np7BcbiAqICBAcGFyYW0gb2JqICDmj5DnpLrlj4LmlbBcbiAqICBAcmV0dXJucyDmj5DnpLrlh73mlbBcbiovXG5leHBvcnQgY29uc3QgdG9hc3QgPSAobmFtZTogdG9hc3ROYW1lVHlwZSwgb2JqOiB0b2FzdFR5cGUpID0+IHtcbiAgICBjb25zdCB0b2FzdE1hcDogTWFwPHRvYXN0TmFtZVR5cGUsICgpID0+IHZvaWQ+ID0gbmV3IE1hcChbXG4gICAgICAgIFt0b2FzdEVudW1UeXBlLnNob3dUb2FzdCwgKCkgPT4gd3guc2hvd1RvYXN0KHsuLi5vYmp9KV0sXG4gICAgICAgIFt0b2FzdEVudW1UeXBlLnNob3dNb2RlbCwgKCkgPT4gd3guc2hvd01vZGFsKHsuLi5vYmp9KV0sXG4gICAgICAgIFt0b2FzdEVudW1UeXBlLnNob3dMb2FkaW5nLCAoKSA9PiB3eC5zaG93TG9hZGluZyh7Li4ub2JqfSldLFxuICAgICAgICBbdG9hc3RFbnVtVHlwZS5oaWRlTG9hZGluZywgKCkgPT4gd3guaGlkZUxvYWRpbmcoey4uLm9ian0pXSxcbiAgICAgICAgW3RvYXN0RW51bVR5cGUuaGlkZVRvYXN0LCAoKSA9PiB3eC5oaWRlVG9hc3Qoey4uLm9ian0pXSxcbiAgICBdKTtcbiAgICByZXR1cm4gdG9hc3RNYXAuZ2V0KG5hbWUpISgpO1xufVxuXG4vKiog5pi+56S65pON5L2c6I+c5Y2VXG4gKiAgQHBhcmFtIG9iaiDlj4LmlbBcbiAqL1xuZXhwb3J0IGNvbnN0IHNob3dBY3Rpb25TaGVldCA9IChvYmo6IFdlY2hhdE1pbmlwcm9ncmFtLlNob3dBY3Rpb25TaGVldE9wdGlvbikgPT4ge1xuICAgIHJldHVybiB3eC5zaG93QWN0aW9uU2hlZXQoey4uLm9ian0pXG59XG5cbi8qKiDlnKjlvZPliY3pobXpnaLmmL7npLrlr7zoiKrmnaHliqDovb3liqjnlLtcbiAqICBAcGFyYW0gb2JqIOWPguaVsFxuICovXG5leHBvcnQgY29uc3Qgc2hvd05hdmlnYXRpb25CYXJMb2FkaW5nID0gKG9iajpXZWNoYXRNaW5pcHJvZ3JhbS5TaG93TmF2aWdhdGlvbkJhckxvYWRpbmdPcHRpb24pID0+IHtcbiAgICByZXR1cm4gd3guc2hvd05hdmlnYXRpb25CYXJMb2FkaW5nKHsuLi5vYmp9KVxufVxuXG4vKiog5Yqo5oCB6K6+572u5b2T5YmN6aG16Z2i55qE5qCH6aKYXG4gKiAgQHBhcmFtIG9iaiDlj4LmlbBcbiAqL1xuZXhwb3J0IGNvbnN0IHNldE5hdmlnYXRpb25CYXJUaXRsZSA9IChvYmo6IFdlY2hhdE1pbmlwcm9ncmFtLlNldE5hdmlnYXRpb25CYXJUaXRsZU9wdGlvbikgPT4ge1xuICAgIHJldHVybiB3eC5zZXROYXZpZ2F0aW9uQmFyVGl0bGUoey4uLm9ian0pXG59XG5cbi8qKiDorr7nva7pobXpnaLlr7zoiKrmnaHpopzoibJcbiAqICBAcGFyYW0gb2JqIOWPguaVsFxuICovXG5leHBvcnQgY29uc3Qgc2V0TmF2aWdhdGlvbkJhckNvbG9yID0gKG9iajogV2VjaGF0TWluaXByb2dyYW0uU2V0TmF2aWdhdGlvbkJhckNvbG9yT3B0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHd4LnNldE5hdmlnYXRpb25CYXJDb2xvcih7Li4ub2JqfSlcbn1cblxuLyoqIOWcqOW9k+WJjemhtemdoumakOiXj+WvvOiIquadoeWKoOi9veWKqOeUu1xuICogIEBwYXJhbSBvYmog5Y+C5pWwXG4gKi9cbmV4cG9ydCBjb25zdCBoaWRlTmF2aWdhdGlvbkJhckxvYWRpbmcgPSAob2JqOiBXZWNoYXRNaW5pcHJvZ3JhbS5IaWRlTmF2aWdhdGlvbkJhckxvYWRpbmdPcHRpb24pID0+IHtcbiAgICByZXR1cm4gd3guaGlkZU5hdmlnYXRpb25CYXJMb2FkaW5nKHsuLi5vYmp9KVxufVxuXG4vKiog6ZqQ6JeP6L+U5Zue6aaW6aG15oyJ6ZKuIOWPr+WcqOmhtemdoiBvblNob3cg5Lit6LCD55SoXG4gKiAgQHBhcmFtIG9iaiDlj4LmlbBcbiAqL1xuZXhwb3J0IGNvbnN0IGhpZGVIb21lQnV0dG9uID0gKG9iajogV2VjaGF0TWluaXByb2dyYW0uSGlkZUhvbWVCdXR0b25PcHRpb24pID0+IHtcbiAgICByZXR1cm4gd3guaGlkZUhvbWVCdXR0b24oey4uLm9ian0pXG59XG5cbi8qKiDlgZzmraLlvZPliY3pobXpnaLkuIvmi4nliLfmlrBcbiAqICBAcGFyYW0gb2JqIOWPguaVsFxuICovXG5leHBvcnQgY29uc3Qgc3RvcFB1bGxEb3duUmVmcmVzaCA9IChvYmo6IFdlY2hhdE1pbmlwcm9ncmFtLlN0b3BQdWxsRG93blJlZnJlc2hPcHRpb24pID0+IHtcbiAgICByZXR1cm4gd3guc3RvcFB1bGxEb3duUmVmcmVzaCh7Li4ub2JqfSlcbn1cblxuLyoqIOW8gOWni+S4i+aLieWIt+aWsOOAguiwg+eUqOWQjuinpuWPkeS4i+aLieWIt+aWsOWKqOeUu++8jOaViOaenOS4jueUqOaIt+aJi+WKqOS4i+aLieWIt+aWsOS4gOiHtOOAglxuICogIEBwYXJhbSBvYmog5Y+C5pWwXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFydFB1bGxEb3duUmVmcmVzaCA9IChvYmo6IFdlY2hhdE1pbmlwcm9ncmFtLlN0YXJ0UHVsbERvd25SZWZyZXNoT3B0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHd4LnN0YXJ0UHVsbERvd25SZWZyZXNoKHsuLi5vYmp9KVxufVxuXG4vKiog5bCG6aG16Z2i5rua5Yqo5Yiw55uu5qCH5L2N572u77yM5pSv5oyB6YCJ5oup5Zmo5ZKM5rua5Yqo6Led56a75Lik56eN5pa55byP5a6a5L2NIFxuICogIEBwYXJhbSBvYmog5Y+C5pWwXG4gKiAgc2VsZWN0b3Ig6K+t5rOVXG4gICAgc2VsZWN0b3LnsbvkvLzkuo4gQ1NTIOeahOmAieaLqeWZqO+8jOS9huS7heaUr+aMgeS4i+WIl+ivreazleOAglxuICAgIElE6YCJ5oup5Zmo77yaI3RoZS1pZFxuICAgIGNsYXNz6YCJ5oup5Zmo77yI5Y+v5Lul6L+e57ut5oyH5a6a5aSa5Liq77yJ77yaLmEtY2xhc3MuYW5vdGhlci1jbGFzc1xuICAgIOWtkOWFg+e0oOmAieaLqeWZqO+8mi50aGUtcGFyZW50ID4gLnRoZS1jaGlsZFxuICAgIOWQjuS7o+mAieaLqeWZqO+8mi50aGUtYW5jZXN0b3IgLnRoZS1kZXNjZW5kYW50XG4gICAg6Leo6Ieq5a6a5LmJ57uE5Lu255qE5ZCO5Luj6YCJ5oup5Zmo77yaLnRoZS1hbmNlc3RvciA+Pj4gLnRoZS1kZXNjZW5kYW50XG4gICAg5aSa6YCJ5oup5Zmo55qE5bm26ZuG77yaI2Etbm9kZSwgLnNvbWUtb3RoZXItbm9kZXNcbiovXG5leHBvcnQgY29uc3QgcGFnZVNjcm9sbFRvID0gKG9iajogV2VjaGF0TWluaXByb2dyYW0uUGFnZVNjcm9sbFRvT3B0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHd4LnBhZ2VTY3JvbGxUbyh7Li4ub2JqfSlcbn1cblxuLyoqIOacrOWcsOWtmOWCqCBcbiAqICBAcGFyYW0ga2V5ICAg6ZSu5YC8XG4gKiAgQHBhcmFtIHZhbHVlIOWtmOWCqOWPguaVsFxuKi9cbmV4cG9ydCBjb25zdCBzZXRTdG9yYWdlU3luYyA9IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHd4LnNldFN0b3JhZ2VTeW5jKGtleSwgdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRvYXN0KFwic2hvd1RvYXN0XCIsIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIuWtmOWCqOWksei0pVwiLFxuICAgICAgICAgICAgaWNvbjogXCJub25lXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTUwMCxcbiAgICAgICAgICAgIG1hc2s6IHRydWUsXG4gICAgICAgICAgICBzdWNjZXNzOiAoKSA9PiB7fSxcbiAgICAgICAgICAgIGZhaWw6ICgpID0+IHt9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vKiog5riF6Zmk5pys5Zyw57yT5a2Y5YC8ICovXG5leHBvcnQgY29uc3QgcmVtb3ZlU3RvcmFnZVN5bmMgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICB3eC5yZW1vdmVTdG9yYWdlU3luYyhrZXkpO1xufVxuXG4vKiog6I635Y+W5pys5Zyw5a2Y5YKo55qE5YC8XG4gKiAgQHBhcmFtIGtleSDplK7lgLxcbiAqICBAcmV0dXJucyByZXMgLS0tIOiOt+WPlue7k+aenCAgIGZhbHNlIC0tLS0g6I635Y+W5aSx6LSlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdG9yYWdlU3luYyA9IChrZXk6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHd4LmdldFN0b3JhZ2VTeW5jKGtleSlcbiAgICAgICAgaWYocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbn0iXX0=